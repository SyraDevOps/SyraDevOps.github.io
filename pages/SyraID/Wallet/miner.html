<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minerador Syra ‚Ä¢ Aprenda a minerar $YRA</title>
    <link rel="stylesheet" href="../../../style.css">
    <style>
        body {
            background: linear-gradient(135deg, #fef7ff 0%, #f3e8ff 50%, #e9d5ff 100%);
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 80px 20px 40px;
        }

        .miner-container {
            max-width: 900px;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 24px;
            padding: 3rem 2.5rem;
            box-shadow: 0 8px 32px rgba(196, 181, 253, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(20px);
        }

        .miner-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .miner-title {
            font-size: 2.8rem;
            font-weight: 600;
            color: #6b46c1;
            margin-bottom: 0.75rem;
        }

        .miner-subtitle {
            color: #7c3aed;
            font-size: 1.15rem;
            line-height: 1.7;
            max-width: 700px;
            margin: 0 auto;
        }

        .miner-intro {
            background: rgba(196, 181, 253, 0.15);
            border-left: 4px solid #8b5cf6;
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 2.5rem;
            color: #6b46c1;
            line-height: 1.6;
        }

        .miner-intro strong {
            color: #7c3aed;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #6b46c1;
            margin: 2.5rem 0 1.5rem;
            border-bottom: 2px solid rgba(196, 181, 253, 0.3);
            padding-bottom: 0.5rem;
        }

        .steps-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .step-item {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(196, 181, 253, 0.3);
            box-shadow: 0 4px 15px rgba(196, 181, 253, 0.2);
        }

        .step-number {
            display: inline-block;
            background: linear-gradient(135deg, #c4b5fd, #ddd6fe);
            color: #6b46c1;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 999px;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
        }

        .step-content {
            color: #6b46c1;
            line-height: 1.7;
        }

        .code-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .code-tab {
            background: rgba(196, 181, 253, 0.2);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 12px 12px 0 0;
            font-size: 1rem;
            font-weight: 500;
            color: #7c3aed;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .code-tab.active {
            background: #c4b5fd;
            color: #6b46c1;
        }

        .code-tab:hover:not(.active) {
            background: rgba(196, 181, 253, 0.3);
        }

        .code-panel {
            display: none;
        }

        .code-panel.active {
            display: block;
        }

        .code-block {
            background: #2d3748;
            border: 1px solid rgba(196, 181, 253, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #e2e8f0;
            box-shadow: 0 4px 15px rgba(45, 55, 72, 0.3);
        }

        .code-description {
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(196, 181, 253, 0.1);
            border-radius: 8px;
            color: #6b46c1;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .highlight-keyword {
            color: #f687b3;
            font-weight: 600;
        }

        .highlight-string {
            color: #81e6d9;
        }

        .highlight-comment {
            color: #a0aec0;
            font-style: italic;
        }

        .highlight-function {
            color: #fbd38d;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2.5rem;
            flex-wrap: wrap;
        }

        .action-button {
            background: linear-gradient(135deg, #c4b5fd, #ddd6fe);
            color: #6b46c1;
            border: none;
            border-radius: 12px;
            padding: 0.9rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(196, 181, 253, 0.4);
            transition: all 0.3s ease;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(196, 181, 253, 0.5);
        }

        .action-button.secondary {
            background: rgba(255, 255, 255, 0.8);
            color: #7c3aed;
            border: 1px solid rgba(196, 181, 253, 0.5);
        }

        .tips-box {
            background: linear-gradient(135deg, rgba(252, 211, 77, 0.2), rgba(251, 191, 36, 0.2));
            border-left: 4px solid #f59e0b;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            color: #92400e;
        }

        .tips-box h4 {
            margin-top: 0;
            color: #78350f;
            font-size: 1.2rem;
        }

        .tips-box ul {
            margin: 0.5rem 0 0 1.5rem;
            line-height: 1.8;
        }

        @media (max-width: 768px) {
            .miner-container {
                padding: 2rem 1.5rem;
            }

            .miner-title {
                font-size: 2.2rem;
            }

            .code-tabs {
                flex-direction: column;
            }

            .code-tab {
                border-radius: 12px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="hamburger" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="overlay" onclick="closeMenu()"></div>

    <nav class="sidebar">
        <a href="../../../index.html" class="menu-item">In√≠cio</a>
        <a href="../../../syrax.html" class="menu-item">SyraX</a>
        <a href="../../../lunagpt.html" class="menu-item">LunaGPT</a>
        <a href="../../../sobre.html" class="menu-item">Sobre</a>
        <a href="../../../contato.html" class="menu-item">Contato</a>
        <a href="../../../colabs/colabs.html" class="menu-item">Colabs</a>
        <a href="../../SyraID.html" class="menu-item">SyraID</a>
        <a href="../../syradash.html" class="menu-item">SyraDash</a>
        <a href="../SyraWallet.html" class="menu-item">SyraWallet</a>
        <div class="menu-footer">
            Desenvolvido pela @SyraDevOps
        </div>
    </nav>

    <main class="miner-container">
        <header class="miner-header">
            <h1 class="miner-title">‚õèÔ∏è Minerador Syra</h1>
            <p class="miner-subtitle">Aprenda a minerar tokens $YRA atrav√©s do algoritmo de hash Syra. Gere blocos v√°lidos e receba recompensas diretamente na sua SyraWallet!</p>
        </header>

        <div class="miner-intro">
            <strong>Como funciona?</strong> O minerador Syra gera hashes √∫nicos baseados na data atual combinada com 4 partes aleat√≥rias. Quando um hash cont√©m a palavra <strong>"Syra"</strong>, ele √© considerado v√°lido e voc√™ recebe tokens $YRA como recompensa. Cada bloco √© salvo em JSON e pode ser exportado como QR Code.
        </div>

        <h2 class="section-title">üìã Passo a Passo</h2>

        <ul class="steps-list">
            <li class="step-item">
                <span class="step-number">Passo 1</span>
                <p class="step-content">Escolha sua linguagem preferida (Python ou Go) e copie o c√≥digo abaixo.</p>
            </li>

            <li class="step-item">
                <span class="step-number">Passo 2</span>
                <p class="step-content">Instale as depend√™ncias necess√°rias. Para Python, use <code>pip install qrcode[pil]</code>. Para Go, o c√≥digo usa apenas bibliotecas padr√£o.</p>
            </li>

            <li class="step-item">
                <span class="step-number">Passo 3</span>
                <p class="step-content">Execute o minerador localmente. O programa come√ßar√° a gerar hashes continuamente at√© encontrar um bloco v√°lido contendo "Syra".</p>
            </li>

            <li class="step-item">
                <span class="step-number">Passo 4</span>
                <p class="step-content">Quando um bloco v√°lido for encontrado, copie o hash e as informa√ß√µes do bloco e adicione na sua SyraWallet para receber os tokens $YRA.</p>
            </li>

            <li class="step-item">
                <span class="step-number">Passo 5</span>
                <p class="step-content">Os blocos minerados s√£o salvos automaticamente em <code>output/blocks/</code> e os QR Codes em <code>output/qrcodes/</code>.</p>
            </li>
        </ul>

        <h2 class="section-title">üíª C√≥digo do Minerador</h2>

        <div class="code-tabs">
            <button class="code-tab active" data-tab="python">üêç Python</button>
            <button class="code-tab" data-tab="go">üî∑ Go</button>
        </div>

        <div class="code-panels">
            <div class="code-panel active" id="pythonPanel">
                <div class="code-description">
                    <strong>Implementa√ß√£o Python:</strong> Gera hashes usando SHA-256 + Base64, procura por "Syra" e salva blocos v√°lidos com QR Codes.
                </div>
                <pre class="code-block"><span class="highlight-comment"># -*- coding: utf-8 -*-</span>
<span class="highlight-comment">"""
Minerador Syra - Blocos Independentes
Gera hashes baseados apenas na data (dd/mm/aaaa) + 4 partes aleat√≥rias
Procura "Syra" dentro do hash
Salva blocos √∫nicos em tokens.json
"""</span>

<span class="highlight-keyword">import</span> os
<span class="highlight-keyword">import</span> json
<span class="highlight-keyword">import</span> hashlib
<span class="highlight-keyword">import</span> base64
<span class="highlight-keyword">import</span> secrets
<span class="highlight-keyword">from</span> datetime <span class="highlight-keyword">import</span> datetime
<span class="highlight-keyword">from</span> pathlib <span class="highlight-keyword">import</span> Path

<span class="highlight-keyword">try</span>:
    <span class="highlight-keyword">import</span> qrcode
<span class="highlight-keyword">except</span> ImportError:
    qrcode = <span class="highlight-keyword">None</span>

BASE_OUTPUT_DIR = Path(<span class="highlight-string">"output"</span>)
JSON_DIR = BASE_OUTPUT_DIR / <span class="highlight-string">"blocks"</span>
QR_DIR = BASE_OUTPUT_DIR / <span class="highlight-string">"qrcodes"</span>

OUTPUT_FILE = <span class="highlight-string">"tokens.json"</span>
SEARCH_WORD = <span class="highlight-string">"Syra"</span>

<span class="highlight-keyword">class</span> <span class="highlight-function">Block</span>:
    <span class="highlight-keyword">def</span> <span class="highlight-function">__init__</span>(self, index, hash_value, hash_parts, date):
        self.index = index
        self.hash = hash_value
        self.hash_parts = hash_parts
        self.date = date
        self.contains_syra = SEARCH_WORD <span class="highlight-keyword">in</span> hash_value

    <span class="highlight-keyword">def</span> <span class="highlight-function">to_dict</span>(self):
        <span class="highlight-keyword">return</span> {
            <span class="highlight-string">"index"</span>: self.index,
            <span class="highlight-string">"hash"</span>: self.hash,
            <span class="highlight-string">"hash_parts"</span>: self.hash_parts,
            <span class="highlight-string">"date"</span>: self.date,
            <span class="highlight-string">"contains_syra"</span>: self.contains_syra
        }

    <span class="highlight-keyword">def</span> <span class="highlight-function">to_json_str</span>(self):
        <span class="highlight-keyword">return</span> json.dumps(self.to_dict(), indent=2, ensure_ascii=<span class="highlight-keyword">False</span>)

<span class="highlight-keyword">def</span> <span class="highlight-function">random_string</span>(n=8):
    <span class="highlight-comment">"""Gera string hex aleat√≥ria"""</span>
    <span class="highlight-keyword">return</span> secrets.token_hex(n)

<span class="highlight-keyword">def</span> <span class="highlight-function">generate_block</span>():
    <span class="highlight-comment">"""Gera um hash a partir da data + 4 partes aleat√≥rias"""</span>
    today = datetime.now().strftime(<span class="highlight-string">"%d/%m/%Y"</span>)
    combined = today
    parts = []
    <span class="highlight-keyword">for</span> _ <span class="highlight-keyword">in</span> range(4):
        rnd = random_string(8)
        data = <span class="highlight-string">f"{today}{rnd}SYRA2025"</span>.encode()
        h = hashlib.sha256(data).digest()
        part = base64.b64encode(h).decode()
        parts.append(part)
        combined += part
    final_hash = base64.b64encode(hashlib.sha256(combined.encode()).digest()).decode()
    <span class="highlight-keyword">return</span> final_hash, parts, today

<span class="highlight-keyword">def</span> <span class="highlight-function">save_block_qrcode</span>(block: Block):
    <span class="highlight-comment">"""Gera QR Code do conte√∫do JSON do bloco e salva como PNG."""</span>
    <span class="highlight-keyword">if</span> qrcode <span class="highlight-keyword">is</span> <span class="highlight-keyword">None</span>:
        <span class="highlight-keyword">raise</span> RuntimeError(<span class="highlight-string">"Instale com: pip install qrcode[pil]"</span>)
    JSON_DIR.mkdir(parents=<span class="highlight-keyword">True</span>, exist_ok=<span class="highlight-keyword">True</span>)
    QR_DIR.mkdir(parents=<span class="highlight-keyword">True</span>, exist_ok=<span class="highlight-keyword">True</span>)
    data = block.to_json_str()
    img = qrcode.make(data)
    filename = QR_DIR / <span class="highlight-string">f"block_{block.index:06d}.png"</span>
    img.save(filename)
    <span class="highlight-keyword">return</span> filename

<span class="highlight-keyword">def</span> <span class="highlight-function">minerar</span>():
    <span class="highlight-function">print</span>(<span class="highlight-string">"‚õèÔ∏è Minerando blocos independentes... (Ctrl+C para parar)"</span>)
    JSON_DIR.mkdir(parents=<span class="highlight-keyword">True</span>, exist_ok=<span class="highlight-keyword">True</span>)
    blocks, existing = [], set()
    index = 1

    <span class="highlight-keyword">try</span>:
        <span class="highlight-keyword">while</span> <span class="highlight-keyword">True</span>:
            hash_value, parts, date = generate_block()

            <span class="highlight-keyword">if</span> SEARCH_WORD <span class="highlight-keyword">in</span> hash_value <span class="highlight-keyword">and</span> hash_value <span class="highlight-keyword">not in</span> existing:
                block = Block(index, hash_value, parts, date)
                blocks.append(block.to_dict())
                existing.add(hash_value)

                <span class="highlight-function">print</span>(<span class="highlight-string">f"‚úÖ Bloco {index} salvo!"</span>)
                <span class="highlight-function">print</span>(<span class="highlight-string">f"   ‚Ä¢ Hash: {hash_value[:40]}..."</span>)
                <span class="highlight-function">print</span>(<span class="highlight-string">"üî• Cont√©m 'Syra' no hash!\n"</span>)

                index += 1

    <span class="highlight-keyword">except</span> KeyboardInterrupt:
        <span class="highlight-function">print</span>(<span class="highlight-string">"\nüõë Minerador parado."</span>)

<span class="highlight-keyword">if</span> __name__ == <span class="highlight-string">"__main__"</span>:
    minerar()</pre>
            </div>

            <div class="code-panel" id="goPanel">
                <div class="code-description">
                    <strong>Implementa√ß√£o Go:</strong> Vers√£o equivalente usando bibliotecas padr√£o. Gera hashes, verifica "Syra" e salva blocos em JSON.
                </div>
                <pre class="code-block"><span class="highlight-keyword">package</span> main

<span class="highlight-keyword">import</span> (
    <span class="highlight-string">"crypto/rand"</span>
    <span class="highlight-string">"crypto/sha256"</span>
    <span class="highlight-string">"encoding/base64"</span>
    <span class="highlight-string">"encoding/hex"</span>
    <span class="highlight-string">"encoding/json"</span>
    <span class="highlight-string">"fmt"</span>
    <span class="highlight-string">"log"</span>
    <span class="highlight-string">"os"</span>
    <span class="highlight-string">"path/filepath"</span>
    <span class="highlight-string">"strings"</span>
    <span class="highlight-string">"time"</span>
)

<span class="highlight-keyword">const</span> (
    baseOutputDir = <span class="highlight-string">"output"</span>
    jsonDir       = baseOutputDir + <span class="highlight-string">"/blocks"</span>
    searchWord    = <span class="highlight-string">"Syra"</span>
)

<span class="highlight-keyword">type</span> <span class="highlight-function">Block</span> <span class="highlight-keyword">struct</span> {
    Index        <span class="highlight-keyword">int</span>      `json:<span class="highlight-string">"index"</span>`
    Hash         <span class="highlight-keyword">string</span>   `json:<span class="highlight-string">"hash"</span>`
    HashParts    []<span class="highlight-keyword">string</span> `json:<span class="highlight-string">"hash_parts"</span>`
    Date         <span class="highlight-keyword">string</span>   `json:<span class="highlight-string">"date"</span>`
    ContainsSyra <span class="highlight-keyword">bool</span>     `json:<span class="highlight-string">"contains_syra"</span>`
}

<span class="highlight-keyword">func</span> <span class="highlight-function">randomString</span>(n <span class="highlight-keyword">int</span>) <span class="highlight-keyword">string</span> {
    bytes := make([]<span class="highlight-keyword">byte</span>, n)
    <span class="highlight-keyword">if</span> _, err := rand.Read(bytes); err != <span class="highlight-keyword">nil</span> {
        log.Fatal(err)
    }
    <span class="highlight-keyword">return</span> hex.EncodeToString(bytes)
}

<span class="highlight-keyword">func</span> <span class="highlight-function">generateBlock</span>() (<span class="highlight-keyword">string</span>, []<span class="highlight-keyword">string</span>, <span class="highlight-keyword">string</span>) {
    today := time.Now().Format(<span class="highlight-string">"02/01/2006"</span>)
    combined := today
    <span class="highlight-keyword">var</span> parts []<span class="highlight-keyword">string</span>
    <span class="highlight-keyword">for</span> i := 0; i < 4; i++ {
        rnd := randomString(8)
        data := []<span class="highlight-keyword">byte</span>(today + rnd + <span class="highlight-string">"SYRA2025"</span>)
        h := sha256.Sum256(data)
        part := base64.StdEncoding.EncodeToString(h[:])
        parts = append(parts, part)
        combined += part
    }
    finalHash := base64.StdEncoding.EncodeToString(sha256.Sum256([]<span class="highlight-keyword">byte</span>(combined))[:])
    <span class="highlight-keyword">return</span> finalHash, parts, today
}

<span class="highlight-keyword">func</span> <span class="highlight-function">saveBlockJSONFile</span>(block Block) <span class="highlight-keyword">string</span> {
    os.MkdirAll(jsonDir, 0755)
    filename := filepath.Join(jsonDir, fmt.Sprintf(<span class="highlight-string">"block_%06d.json"</span>, block.Index))
    file, err := os.Create(filename)
    <span class="highlight-keyword">if</span> err != <span class="highlight-keyword">nil</span> {
        log.Fatal(err)
    }
    <span class="highlight-keyword">defer</span> file.Close()
    data, _ := json.MarshalIndent(block, <span class="highlight-string">""</span>, <span class="highlight-string">"  "</span>)
    file.Write(data)
    <span class="highlight-keyword">return</span> filename
}

<span class="highlight-keyword">func</span> <span class="highlight-function">minerar</span>() {
    fmt.Println(<span class="highlight-string">"‚õèÔ∏è Minerando blocos independentes... (Ctrl+C para parar)"</span>)
    os.MkdirAll(jsonDir, 0755)
    existing := make(map[<span class="highlight-keyword">string</span>]<span class="highlight-keyword">bool</span>)
    index := 1

    <span class="highlight-keyword">for</span> {
        hashValue, parts, date := generateBlock()

        <span class="highlight-keyword">if</span> strings.Contains(hashValue, searchWord) && !existing[hashValue] {
            block := Block{
                Index:        index,
                Hash:         hashValue,
                HashParts:    parts,
                Date:         date,
                ContainsSyra: <span class="highlight-keyword">true</span>,
            }
            existing[hashValue] = <span class="highlight-keyword">true</span>
            jsonPath := saveBlockJSONFile(block)

            fmt.Printf(<span class="highlight-string">"‚úÖ Bloco %d salvo!\n"</span>, index)
            fmt.Printf(<span class="highlight-string">"   ‚Ä¢ Hash: %s...\n"</span>, hashValue[:40])
            fmt.Printf(<span class="highlight-string">"   ‚Ä¢ JSON: %s\n"</span>, jsonPath)
            fmt.Println(<span class="highlight-string">"üî• Cont√©m 'Syra' no hash!\n"</span>)

            index++
        }
    }
}

<span class="highlight-keyword">func</span> <span class="highlight-function">main</span>() {
    minerar()
}</pre>
            </div>
        </div>

        <div class="tips-box">
            <h4>üí° Dicas de Minera√ß√£o</h4>
            <ul>
                <li>Quanto mais tempo voc√™ deixar o minerador rodando, maior a chance de encontrar blocos v√°lidos.</li>
                <li>O hash precisa conter exatamente a palavra "Syra" (com "S" mai√∫sculo) para ser aceito.</li>
                <li>Cada bloco encontrado gera automaticamente um arquivo JSON e um QR Code para facilitar o registro.</li>
                <li>N√£o esque√ßa de adicionar os blocos minerados na sua SyraWallet para receber as recompensas em $YRA!</li>
                <li>Use um computador dedicado ou servidor para minera√ß√£o cont√≠nua e maximize seus ganhos.</li>
            </ul>
        </div>

        <div class="action-buttons">
            <button class="action-button" onclick="copyCode()">üìã Copiar C√≥digo</button>
            <button class="action-button secondary" onclick="window.location.href='../SyraWallet.html'">üí∞ Ir para SyraWallet</button>
        </div>
    </main>

    <script src="../../../script.js"></script>
    <script>
        // Tab switching
        const tabs = document.querySelectorAll('.code-tab');
        const panels = document.querySelectorAll('.code-panel');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                panels.forEach(p => p.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab + 'Panel').classList.add('active');
            });
        });

        // Copy code function
        function copyCode() {
            const activePanel = document.querySelector('.code-panel.active');
            const codeBlock = activePanel.querySelector('.code-block');
            const text = codeBlock.innerText;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ C√≥digo copiado para a √°rea de transfer√™ncia!');
            }).catch(err => {
                console.error('Erro ao copiar c√≥digo:', err);
                alert('‚ùå N√£o foi poss√≠vel copiar o c√≥digo. Tente selecionar e copiar manualmente.');
            });
        }
    </script>
</body>
</html>
